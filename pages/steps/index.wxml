<view class="page" wx:if="{{recipe}}">
  <view class="header">
    <view class="title">{{recipe.title}}</view>
    <view class="meta">共 {{recipe.steps.length}} 步 · {{current + 1}} / {{recipe.steps.length}}</view>
  </view>

  <swiper
    class="step-swiper"
    indicator-dots="true"
    indicator-color="#dddddd"
    indicator-active-color="#d35400"
    current="{{current}}"
    bindchange="onChange"
  >
    <swiper-item wx:for="{{recipe.steps}}" wx:key="index">
      <view class="step-card">
        <image class="step-media" mode="aspectFill" src="{{recipe.image}}" />
        <view class="step-body">
          <view class="step-index">步骤 {{index + 1}}</view>
          <view class="step-text">{{item}}</view>
          <view class="tips">
            <text class="tips-label">小提示</text>
            <text class="tips-text">保持火候稳定，注意食材熟度与口感。</text>
          </view>
        </view>
      </view>
    </swiper-item>
  </swiper>

  <view class="actions">
    <button class="ghost" size="mini" bindtap="goPrev" disabled="{{current===0}}">上一步</button>
    <button class="primary" size="mini" bindtap="goNext" disabled="{{current===recipe.steps.length-1}}">下一步</button>
  </view>
</view>

<view wx:else class="empty">
  未找到菜谱，请从主页重新进入。
</view>

